#+STARTUP: content indent
#+title: insta-pocket.el | instapaper client for emacs

[[http://spacemacs.org][file:https://cdn.rawgit.com/syl20bnr/spacemacs/442d025779da2f62fc86c2082703697714db6514/assets/spacemacs-badge.svg]]

[[./demo.png]]

* Installation
To install `insta-pocket.el`, you can clone the repository directly from GitHub:
#+begin_src elisp
(use-package insta-pocket
  :vc (:url "https://github.com/thanhvg/emacs-insta-pocket.git"))
#+end_src


* Usage
To start using the `insta-pocket` package, first register for your own app at https://www.instapaper.com/main/request_oauth_consumer_token

Once you are approved set those keys
#+begin_src elisp
(setq insta-pocket-consumer-key "YOUR_CONSUMER_KEY")
(setq insta-pocket-consumer-secret "YOUR_CONSUMER_SECRET")
#+end_src

After that, authorize your account by calling:
#+begin_src elisp
M-x insta-pocket-authorize
#+end_src
You will need to provide your instapaper username and password, the package will not remember or save your account credential. This should be done only once. If successfully, app token and secret will be store at =~/.emacs.d/insta-pocket-tokens.el.=

To launch the `insta-pocket` interface, use:
#+begin_src elisp
M-x insta-pocket
#+end_src

* evil
#+begin_src elisp
(evil-define-key 'normal insta-pocket-mode-map
    "o" 'insta-pocket-read
    "c" 'insta-pocket-move
    "f" 'insta-pocket-select-folder
    "a" 'insta-pocket-archive
    "A" 'insta-pocket-unarchive
    "x" 'insta-pocket-star
    "X" 'insta-pocket-unstar)
#+end_src

* embark
#+begin_src elisp
(with-eval-after-load 'embark
    (keymap-set embark-url-map "I" #'insta-pocket-add))
#+end_src

* spacemacs
#+begin_src elisp
dotspacemacs-additional-packages '((insta-pocket :location (recipe
                                                            :fetcher github
                                                            :repo "thanhvg/emacs-insta-pocket"
                                                            :files ("*.el"))))

(defun dotspacemacs/user-config ()
  (setq-default
    insta-pocket-consumer-key "YOUR_CONSUMER_KEY"
    insta-pocket-consumer-secret "YOUR_CONSUMER_SECRET")
  (with-eval-after-load 'insta-pocket
    (evil-define-key 'normal insta-pocket-mode-map
        "o" 'insta-pocket-read
        "c" 'insta-pocket-move
        "f" 'insta-pocket-select-folder
        "a" 'insta-pocket-archive
        "A" 'insta-pocket-unarchive
        "x" 'insta-pocket-star
        "X" 'insta-pocket-unstar)))
#+end_src
* Commands and Key Bindings
=insta-pocket-add= to add url at point or manually.

The following key bindings are available in the `insta-pocket-mode`:

| Key  | Action                           |
|------|----------------------------------|
| o    | Read the selected bookmark       |
| c    | Move the selected bookmark       |
| f    | Select a different folder        |
| a    | Archive the selected bookmark    |
| A    | Unarchive the selected bookmark  |
| x    | Star the selected bookmark       |
| X    | Unstar the selected bookmark     |

* Features
- Manage bookmarks: view, add, archive, and organize them in folders.
- `tabulated-list-mode`.

* Remarks
- If possible please consider being instapaper premium user.
- Number of items is capped at 500 by instapaper, cannot get more.
* References
https://github.com/ochronus/instapaper-go-client
https://github.com/sanel/declutter
https://github.com/unmonoqueteclea/jira.el
